{"ast":null,"code":"var _jsxFileName = \"C:\\\\WT-one-credit\\\\src\\\\components\\\\quiz\\\\QuizTaker.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Clock, AlertCircle, CheckCircle, Send, ArrowLeft, ArrowRight } from 'lucide-react';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../../contexts/AuthContext';\nimport api from '../../services/api';\nimport './QuizTaker.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuizTaker = ({\n  quiz,\n  onComplete,\n  onExit\n}) => {\n  _s();\n  var _answers$currentQuest2;\n  const {\n    currentUser\n  } = useAuth();\n  const [attempt, setAttempt] = useState(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [timeRemaining, setTimeRemaining] = useState(0);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showConfirmSubmit, setShowConfirmSubmit] = useState(false);\n  const timerRef = useRef(null);\n  useEffect(() => {\n    startQuizAttempt();\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, []);\n  useEffect(() => {\n    if (timeRemaining > 0) {\n      timerRef.current = setInterval(() => {\n        setTimeRemaining(prev => {\n          if (prev <= 1) {\n            handleAutoSubmit();\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    }\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [timeRemaining]);\n  const startQuizAttempt = async () => {\n    try {\n      console.log('Starting quiz attempt for quiz:', quiz);\n      console.log('Quiz ID:', quiz._id);\n      console.log('API URL:', `/quizzes/${quiz._id}/start`);\n      const response = await api.post(`/quizzes/${quiz._id}/start`);\n      console.log('Quiz start response:', response.data);\n      setAttempt(response.data.attempt);\n      setTimeRemaining(quiz.timeLimit * 60); // Convert minutes to seconds\n\n      // Initialize answers object\n      const initialAnswers = {};\n      quiz.questions.forEach(question => {\n        initialAnswers[question._id] = {\n          questionId: question._id,\n          selectedOption: '',\n          textAnswer: '',\n          timeSpent: 0\n        };\n      });\n      setAnswers(initialAnswers);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error starting quiz:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to start quiz');\n      onExit();\n    }\n  };\n  const handleAnswerChange = (questionId, type, value) => {\n    setAnswers(prev => ({\n      ...prev,\n      [questionId]: {\n        ...prev[questionId],\n        [type]: value\n      }\n    }));\n  };\n  const handleAutoSubmit = () => {\n    toast.warning('Time is up! Quiz will be submitted automatically.');\n    submitQuiz();\n  };\n  const submitQuiz = async () => {\n    if (isSubmitting) return;\n    setIsSubmitting(true);\n    try {\n      const answersArray = Object.values(answers);\n      const response = await api.put(`/quizzes/attempts/${attempt._id}/submit`, {\n        answers: answersArray\n      });\n      toast.success('Quiz submitted successfully!');\n      onComplete(response.data.result);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error submitting quiz:', error);\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to submit quiz');\n    } finally {\n      setIsSubmitting(false);\n      setShowConfirmSubmit(false);\n    }\n  };\n  const formatTime = seconds => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n  const getTimeColor = () => {\n    if (timeRemaining < 300) return '#e74c3c'; // Red for < 5 minutes\n    if (timeRemaining < 600) return '#f39c12'; // Orange for < 10 minutes\n    return '#27ae60'; // Green for > 10 minutes\n  };\n  const currentQuestion = quiz.questions[currentQuestionIndex];\n  const isLastQuestion = currentQuestionIndex === quiz.questions.length - 1;\n  const answeredCount = Object.values(answers).filter(answer => answer.selectedOption || answer.textAnswer.trim()).length;\n  if (!attempt) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Starting quiz...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n  if (showConfirmSubmit) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-confirm-submit\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirm-dialog\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Submit Quiz?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirm-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Questions answered: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [answeredCount, \" of \", quiz.questions.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Time remaining: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: getTimeColor()\n              },\n              children: formatTime(timeRemaining)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), answeredCount < quiz.questions.length && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"warning-message\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"You have unanswered questions. Are you sure you want to submit?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirm-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConfirmSubmit(false),\n            className: \"btn btn-secondary\",\n            disabled: isSubmitting,\n            children: \"Continue Quiz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: submitQuiz,\n            className: \"btn btn-primary\",\n            disabled: isSubmitting,\n            children: isSubmitting ? 'Submitting...' : 'Submit Quiz'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-taker\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: quiz.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quiz-progress\",\n          children: [\"Question \", currentQuestionIndex + 1, \" of \", quiz.questions.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-timer\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: getTimeColor()\n          },\n          children: formatTime(timeRemaining)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-fill\",\n        style: {\n          width: `${(currentQuestionIndex + 1) / quiz.questions.length * 100}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"question-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Question \", currentQuestionIndex + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"question-points\",\n          children: [currentQuestion.points, \" point\", currentQuestion.points !== 1 ? 's' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-text\",\n        children: currentQuestion.question\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-section\",\n        children: [(currentQuestion.type === 'multiple-choice' || currentQuestion.type === 'true-false') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options-list\",\n          children: currentQuestion.options.map((option, index) => {\n            var _answers$currentQuest;\n            return /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"option-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: `question-${currentQuestion._id}`,\n                value: option.text,\n                checked: ((_answers$currentQuest = answers[currentQuestion._id]) === null || _answers$currentQuest === void 0 ? void 0 : _answers$currentQuest.selectedOption) === option.text,\n                onChange: e => handleAnswerChange(currentQuestion._id, 'selectedOption', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"option-text\",\n                children: option.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this), currentQuestion.type === 'short-answer' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-answer\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: ((_answers$currentQuest2 = answers[currentQuestion._id]) === null || _answers$currentQuest2 === void 0 ? void 0 : _answers$currentQuest2.textAnswer) || '',\n            onChange: e => handleAnswerChange(currentQuestion._id, 'textAnswer', e.target.value),\n            placeholder: \"Enter your answer...\",\n            rows: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-navigation\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-left\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentQuestionIndex(prev => Math.max(0, prev - 1)),\n          disabled: currentQuestionIndex === 0,\n          className: \"btn btn-secondary\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), \"Previous\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-indicators\",\n          children: quiz.questions.map((_, index) => {\n            var _answers$quiz$questio, _answers$quiz$questio2, _answers$quiz$questio3;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentQuestionIndex(index),\n              className: `question-indicator ${index === currentQuestionIndex ? 'current' : ''} ${(_answers$quiz$questio = answers[quiz.questions[index]._id]) !== null && _answers$quiz$questio !== void 0 && _answers$quiz$questio.selectedOption || (_answers$quiz$questio2 = answers[quiz.questions[index]._id]) !== null && _answers$quiz$questio2 !== void 0 && (_answers$quiz$questio3 = _answers$quiz$questio2.textAnswer) !== null && _answers$quiz$questio3 !== void 0 && _answers$quiz$questio3.trim() ? 'answered' : 'unanswered'}`,\n              children: index + 1\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-right\",\n        children: !isLastQuestion ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentQuestionIndex(prev => Math.min(quiz.questions.length - 1, prev + 1)),\n          className: \"btn btn-primary\",\n          children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowConfirmSubmit(true),\n          className: \"btn btn-success\",\n          children: [/*#__PURE__*/_jsxDEV(Send, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), \"Submit Quiz\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answer-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"answered\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), answeredCount, \" Answered\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"unanswered\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), quiz.questions.length - answeredCount, \" Remaining\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowConfirmSubmit(true),\n        className: \"submit-early-btn\",\n        children: \"Submit Early\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n};\n_s(QuizTaker, \"cKg2+i+626u9Dbm+FdoV/Aym814=\", false, function () {\n  return [useAuth];\n});\n_c = QuizTaker;\nexport default QuizTaker;\nvar _c;\n$RefreshReg$(_c, \"QuizTaker\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Clock","AlertCircle","CheckCircle","Send","ArrowLeft","ArrowRight","toast","useAuth","api","jsxDEV","_jsxDEV","QuizTaker","quiz","onComplete","onExit","_s","_answers$currentQuest2","currentUser","attempt","setAttempt","currentQuestionIndex","setCurrentQuestionIndex","answers","setAnswers","timeRemaining","setTimeRemaining","isSubmitting","setIsSubmitting","showConfirmSubmit","setShowConfirmSubmit","timerRef","startQuizAttempt","current","clearInterval","setInterval","prev","handleAutoSubmit","console","log","_id","response","post","data","timeLimit","initialAnswers","questions","forEach","question","questionId","selectedOption","textAnswer","timeSpent","error","_error$response","_error$response$data","handleAnswerChange","type","value","warning","submitQuiz","answersArray","Object","values","put","success","result","_error$response2","_error$response2$data","formatTime","seconds","minutes","Math","floor","remainingSeconds","toString","padStart","getTimeColor","currentQuestion","isLastQuestion","length","answeredCount","filter","answer","trim","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","size","onClick","disabled","title","width","points","options","map","option","index","_answers$currentQuest","name","text","checked","onChange","e","target","placeholder","rows","max","_","_answers$quiz$questio","_answers$quiz$questio2","_answers$quiz$questio3","min","_c","$RefreshReg$"],"sources":["C:/WT-one-credit/src/components/quiz/QuizTaker.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Clock, AlertCircle, CheckCircle, Send, ArrowLeft, ArrowRight } from 'lucide-react';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../../contexts/AuthContext';\nimport api from '../../services/api';\nimport './QuizTaker.css';\n\nconst QuizTaker = ({ quiz, onComplete, onExit }) => {\n  const { currentUser } = useAuth();\n  const [attempt, setAttempt] = useState(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [timeRemaining, setTimeRemaining] = useState(0);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showConfirmSubmit, setShowConfirmSubmit] = useState(false);\n  const timerRef = useRef(null);\n\n  useEffect(() => {\n    startQuizAttempt();\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (timeRemaining > 0) {\n      timerRef.current = setInterval(() => {\n        setTimeRemaining(prev => {\n          if (prev <= 1) {\n            handleAutoSubmit();\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    }\n\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [timeRemaining]);\n\n  const startQuizAttempt = async () => {\n    try {\n      console.log('Starting quiz attempt for quiz:', quiz);\n      console.log('Quiz ID:', quiz._id);\n      console.log('API URL:', `/quizzes/${quiz._id}/start`);\n      \n      const response = await api.post(`/quizzes/${quiz._id}/start`);\n      console.log('Quiz start response:', response.data);\n      \n      setAttempt(response.data.attempt);\n      setTimeRemaining(quiz.timeLimit * 60); // Convert minutes to seconds\n      \n      // Initialize answers object\n      const initialAnswers = {};\n      quiz.questions.forEach(question => {\n        initialAnswers[question._id] = {\n          questionId: question._id,\n          selectedOption: '',\n          textAnswer: '',\n          timeSpent: 0\n        };\n      });\n      setAnswers(initialAnswers);\n      \n    } catch (error) {\n      console.error('Error starting quiz:', error);\n      toast.error(error.response?.data?.error || 'Failed to start quiz');\n      onExit();\n    }\n  };\n\n  const handleAnswerChange = (questionId, type, value) => {\n    setAnswers(prev => ({\n      ...prev,\n      [questionId]: {\n        ...prev[questionId],\n        [type]: value\n      }\n    }));\n  };\n\n  const handleAutoSubmit = () => {\n    toast.warning('Time is up! Quiz will be submitted automatically.');\n    submitQuiz();\n  };\n\n  const submitQuiz = async () => {\n    if (isSubmitting) return;\n    \n    setIsSubmitting(true);\n    try {\n      const answersArray = Object.values(answers);\n      const response = await api.put(`/quizzes/attempts/${attempt._id}/submit`, {\n        answers: answersArray\n      });\n      \n      toast.success('Quiz submitted successfully!');\n      onComplete(response.data.result);\n      \n    } catch (error) {\n      console.error('Error submitting quiz:', error);\n      toast.error(error.response?.data?.error || 'Failed to submit quiz');\n    } finally {\n      setIsSubmitting(false);\n      setShowConfirmSubmit(false);\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  const getTimeColor = () => {\n    if (timeRemaining < 300) return '#e74c3c'; // Red for < 5 minutes\n    if (timeRemaining < 600) return '#f39c12'; // Orange for < 10 minutes\n    return '#27ae60'; // Green for > 10 minutes\n  };\n\n  const currentQuestion = quiz.questions[currentQuestionIndex];\n  const isLastQuestion = currentQuestionIndex === quiz.questions.length - 1;\n  const answeredCount = Object.values(answers).filter(answer => \n    answer.selectedOption || answer.textAnswer.trim()\n  ).length;\n\n  if (!attempt) {\n    return (\n      <div className=\"quiz-loading\">\n        <div className=\"loading-spinner\"></div>\n        <p>Starting quiz...</p>\n      </div>\n    );\n  }\n\n  if (showConfirmSubmit) {\n    return (\n      <div className=\"quiz-confirm-submit\">\n        <div className=\"confirm-dialog\">\n          <h2>Submit Quiz?</h2>\n          <div className=\"confirm-stats\">\n            <p>Questions answered: <strong>{answeredCount} of {quiz.questions.length}</strong></p>\n            <p>Time remaining: <strong style={{ color: getTimeColor() }}>{formatTime(timeRemaining)}</strong></p>\n          </div>\n          \n          {answeredCount < quiz.questions.length && (\n            <div className=\"warning-message\">\n              <AlertCircle size={20} />\n              <span>You have unanswered questions. Are you sure you want to submit?</span>\n            </div>\n          )}\n          \n          <div className=\"confirm-actions\">\n            <button \n              onClick={() => setShowConfirmSubmit(false)}\n              className=\"btn btn-secondary\"\n              disabled={isSubmitting}\n            >\n              Continue Quiz\n            </button>\n            <button \n              onClick={submitQuiz}\n              className=\"btn btn-primary\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? 'Submitting...' : 'Submit Quiz'}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"quiz-taker\">\n      {/* Header */}\n      <div className=\"quiz-header\">\n        <div className=\"quiz-info\">\n          <h2>{quiz.title}</h2>\n          <div className=\"quiz-progress\">\n            Question {currentQuestionIndex + 1} of {quiz.questions.length}\n          </div>\n        </div>\n        \n        <div className=\"quiz-timer\">\n          <Clock size={20} />\n          <span style={{ color: getTimeColor() }}>\n            {formatTime(timeRemaining)}\n          </span>\n        </div>\n      </div>\n\n      {/* Progress Bar */}\n      <div className=\"progress-bar\">\n        <div \n          className=\"progress-fill\"\n          style={{ width: `${((currentQuestionIndex + 1) / quiz.questions.length) * 100}%` }}\n        ></div>\n      </div>\n\n      {/* Question */}\n      <div className=\"question-container\">\n        <div className=\"question-header\">\n          <h3>Question {currentQuestionIndex + 1}</h3>\n          <span className=\"question-points\">\n            {currentQuestion.points} point{currentQuestion.points !== 1 ? 's' : ''}\n          </span>\n        </div>\n        \n        <div className=\"question-text\">\n          {currentQuestion.question}\n        </div>\n\n        {/* Answer Options */}\n        <div className=\"answer-section\">\n          {(currentQuestion.type === 'multiple-choice' || currentQuestion.type === 'true-false') && (\n            <div className=\"options-list\">\n              {currentQuestion.options.map((option, index) => (\n                <label key={index} className=\"option-item\">\n                  <input\n                    type=\"radio\"\n                    name={`question-${currentQuestion._id}`}\n                    value={option.text}\n                    checked={answers[currentQuestion._id]?.selectedOption === option.text}\n                    onChange={(e) => handleAnswerChange(currentQuestion._id, 'selectedOption', e.target.value)}\n                  />\n                  <span className=\"option-text\">{option.text}</span>\n                </label>\n              ))}\n            </div>\n          )}\n\n          {currentQuestion.type === 'short-answer' && (\n            <div className=\"text-answer\">\n              <textarea\n                value={answers[currentQuestion._id]?.textAnswer || ''}\n                onChange={(e) => handleAnswerChange(currentQuestion._id, 'textAnswer', e.target.value)}\n                placeholder=\"Enter your answer...\"\n                rows=\"4\"\n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Navigation */}\n      <div className=\"quiz-navigation\">\n        <div className=\"nav-left\">\n          <button\n            onClick={() => setCurrentQuestionIndex(prev => Math.max(0, prev - 1))}\n            disabled={currentQuestionIndex === 0}\n            className=\"btn btn-secondary\"\n          >\n            <ArrowLeft size={16} />\n            Previous\n          </button>\n        </div>\n\n        <div className=\"nav-center\">\n          <div className=\"question-indicators\">\n            {quiz.questions.map((_, index) => (\n              <button\n                key={index}\n                onClick={() => setCurrentQuestionIndex(index)}\n                className={`question-indicator ${\n                  index === currentQuestionIndex ? 'current' : ''\n                } ${\n                  answers[quiz.questions[index]._id]?.selectedOption || \n                  answers[quiz.questions[index]._id]?.textAnswer?.trim() \n                    ? 'answered' : 'unanswered'\n                }`}\n              >\n                {index + 1}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"nav-right\">\n          {!isLastQuestion ? (\n            <button\n              onClick={() => setCurrentQuestionIndex(prev => Math.min(quiz.questions.length - 1, prev + 1))}\n              className=\"btn btn-primary\"\n            >\n              Next\n              <ArrowRight size={16} />\n            </button>\n          ) : (\n            <button\n              onClick={() => setShowConfirmSubmit(true)}\n              className=\"btn btn-success\"\n            >\n              <Send size={16} />\n              Submit Quiz\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Answer Summary */}\n      <div className=\"answer-summary\">\n        <div className=\"summary-stats\">\n          <span className=\"answered\">\n            <CheckCircle size={16} />\n            {answeredCount} Answered\n          </span>\n          <span className=\"unanswered\">\n            <AlertCircle size={16} />\n            {quiz.questions.length - answeredCount} Remaining\n          </span>\n        </div>\n        \n        <button\n          onClick={() => setShowConfirmSubmit(true)}\n          className=\"submit-early-btn\"\n        >\n          Submit Early\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default QuizTaker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}